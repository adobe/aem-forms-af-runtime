{"pageProps":{"post":{"title":"Headless Adaptive Form : Getting Started","date":"2020-03-16T05:35:07.322Z","slug":["lab","customizing-component"],"content":"# Front-end module customisation\n\n- The `:type` field above represents custom component. Let's change the `[Archetype project]\\ui.frontend.react.forms.af` module to include this new component\n\n- Let's use the date picker component from material UI. To use this component, run the following command inside `[Archetype project]/ui.frontend.react.forms.af` module,\n```shellSession\nnpm install @date-io/date-fns@latest \\\n@date-io/moment@1.1.0 @material-ui/core@latest \\\ndate-fns@next material-ui-pickers@latest \\\nmoment@2.24.0 --force\n```\n\n- Create a folder called `material-ui` inside src. Add files [Date.tsx](https://github.com/adobe/aem-forms-af-runtime/blob/gh-pages/lab1/ui.frontend.react.forms.af/src/material-ui/Date.tsx) and [mappings.ts](https://github.com/adobe/aem-forms-af-runtime/blob/gh-pages/lab1/ui.frontend.react.forms.af/src/material-ui/mappings.ts). Date.tsx would contain code to render date component with material ui and `mappings.ts` contains mappings to map the `:type` property value with the react component class\n\n- Let's update the adaptive form renderer to use these mappings. Navigate to `[Archetype project]/ui.frontend.react.forms.af/src/Form.tsx` and import the mappings object (ie) replace the following line,\n```js\nimport {mappings} from \"@aemforms/af-react-components\";\n```\nwith\n```js\nimport mappings from \"./material-ui/mappings\";\n```\n\n- To see these changes in action on local development server, let's first upload the form model definition with the new changes in AEM as a dam asset. After you are logged in, in the upper-left corner, tap Adobe Experience Manager > Assets > Files. Tap Create and select Files. Upload the file `original.form.json` as DAM asset\n\n- After the upload is complete. Navigate to Adobe Experience Manager > Forms > Forms & Documents and open the `contact` form in editor. Tap the Adaptive Forms Container component and Tap Properties. In the properties explorer, select the `original.form.json` dam asset path for the Forms Runtime Document Path option. The container component displays a rendition of the form \n\n- Rendition of the form would have the following text since we have still not deployed the customization changes to AEM\n\n```json\nUndefined Element\n{\n  \"index\": 6,\n  \"name\": \"dateofbirth\",\n  \"fieldType\": \"date-input\",\n  \"description\": \"Please enter your date of birth\",\n  \"screenReaderText\": \"Enter your date of birth\",\n  \"format\": \"date\",\n  \"type\": \"string\",\n  \"constraintMessages\": {\n    \"pattern\": \"Please enter a valid date\"\n  },\n  \"label\": {\n    \"value\": \"Date of Birth\"\n  },\n  \":type\": \"custom:dateField\",\n  \"id\": \"PqTAb51qDOz\"\n}\n```\n\n- Before deploying the changes to AEM, let's validate the customisation changes on local development server by navigating to the `ui.frontend.react.forms.af` project and running the following command:\n```shellSession\nnpm run start\n```\n\n- Once the above command is run, wait for the following message `webpack compiled with 4 warnings`. This means that the local development server has started successfully.\n\n\n- Rename the `original.form.json` file back to `original` in the archetype project to avoid `filevault-package-maven-plugin` errors.\n\n- Let's deploy the changes to AEM using the following command\n\n```shellSession\nmvn -PautoInstallPackage clean install\n```\n\n- Once the above command is successfully run, you should see the following output on your console,\n\n```shellSession\n[INFO] Reactor Summary for myheadlessform 1.0.0-SNAPSHOT:\n[INFO]\n[INFO] myheadlessform ..................................... SUCCESS [  0.233 s]\n[INFO] myheadlessform - Core .............................. SUCCESS [  6.830 s]\n[INFO] myheadlessform - UI Frontend ....................... SUCCESS [  7.885 s]\n[INFO] myheadlessform - UI Frontend Forms ................. SUCCESS [01:26 min]\n[INFO] myheadlessform - Repository Structure Package ...... SUCCESS [  1.172 s]\n[INFO] myheadlessform - UI apps ........................... SUCCESS [  5.478 s]\n[INFO] myheadlessform - UI content ........................ SUCCESS [  2.845 s]\n[INFO] myheadlessform - UI config ......................... SUCCESS [  0.637 s]\n[INFO] myheadlessform - All ............................... SUCCESS [ 22.136 s]\n[INFO] myheadlessform - Integration Tests ................. SUCCESS [  9.759 s]\n[INFO] myheadlessform - Dispatcher ........................ SUCCESS [  0.075 s]\n[INFO] myheadlessform - UI Tests .......................... SUCCESS [  0.080 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:24 min\n```\n","toc":[{"level":1,"text":"Front-end module customisation","id":"front-end-module-customisation"}],"nextTitle":"Submit the Form","nextSlug":["lab","submission"],"prevTitle":"Edit the Form","prevSlug":["lab","edit-form"],"subTitle":"Customize Date Picker","kind":"tutorials"}},"__N_SSG":true}