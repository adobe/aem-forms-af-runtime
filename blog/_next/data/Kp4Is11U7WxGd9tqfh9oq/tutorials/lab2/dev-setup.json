{"pageProps":{"post":{"title":"Headless Adaptive Form : Creating a Multi Language Multistep Form","date":"2020-03-16T05:35:07.322Z","slug":["lab2","dev-setup"],"content":"\n# Pre-requisites\n\nFor this session, please setup development environment as mentioned in the [last session](https://github.com/adobe/aem-forms-af-runtime/wiki/Lab-1---Beta#1-set-up-development-environment). It is expected that you have completed lab 1 before this lab session. \n\nAdditionally, one would have to install the following artifacts to use the new features like localization, forms web sdk improvements etc\n\n## Update Forms Headless SDK\n\nNavigate to the `ui.frontend.forms.af` module inside the project created during last lab session and update the forms web sdk to the latest version (ie) `0.22.4`. An example can be seen [here](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/package.json#L38-L40) and re-build the project after updating the dependencies.\n\n## Update Visual Studio Code Extension\n\nInstall the latest [visual code extension](https://experienceleague.adobe.com/docs/experience-manager-headless-adaptive-forms/assets/adaptive-form-builder-0.12.0.vsix?lang=en) which is **required** to localise adaptive form definition. To use the new version, uninstall the previous version and install the latest one. More details can be found [here](https://experienceleague.adobe.com/docs/experience-manager-headless-adaptive-forms/using/visual-studio-code-extension-for-headless-adaptive-forms.html)\n\n> Note that Visual Studio Code Extension is mandatory for this lab for helping in translation of the form in multiple languages\n\n\n## Enabling Local Development Server\n\nTo fetch the form model definition from local development server without using AEM, we would need to update the environment variables and web pack configuration.  \n\n> Note that this is only for development process, the final JSON needs to be present in the AEM for Form Functionality like submit, workflow to work\n\n### Update dependences for the frontend project\n\nNavigate to the `ui.frontend.react.forms.af` module in the archetype project created in lab 1 and run the commands mentioned below\n\n```shellSession\nnpm install --save-dev copy-webpack-plugin \\\n--save react-router-dom react-router\n```\n\nThe command installs the web pack plugin and react router related dependencies (for localisation)\n\n### Update the frontend code \n\nTo enable faster development/preview of the Form, we have made changes to the archetype project which will be available in the next release. Until then please copy paste the changes manually as mentioned below\n\nIn the `ui.frontend.react.forms.af` module of the archetype project, update the files by copying the contents from the location mentioned below\n\n* [webpack.common.js](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/webpack.common.js),\n* [webpack.dev.js](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/webpack.dev.js), \n* [.env](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/.env), \n* [.env.development](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/.env.development) \n\nUpdate the following file in the `src` directory of the `ui.frontend.react.forms.af` module \n* [Form.tsx](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/Form.tsx) \n* [index.tsx](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/index.tsx) \n\nCreate a new file in the `src` directory `FormWithLanguageRoute.tsx` and copy the contents from [FormWithLanguageRoute.tsx ](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/FormWithLanguageRoute.tsx) in that file.\n\n\n","toc":[{"level":1,"text":"Pre-requisites","id":"pre-requisites"},{"level":2,"text":"Update Forms Headless SDK","id":"update-forms-headless-sdk"},{"level":2,"text":"Update Visual Studio Code Extension","id":"update-visual-studio-code-extension"},{"level":2,"text":"Enabling Local Development Server","id":"enabling-local-development-server"},{"level":3,"text":"Update dependences for the frontend project","id":"update-dependences-for-the-frontend-project"},{"level":3,"text":"Update the frontend code","id":"update-the-frontend-code"}],"nextTitle":"Get Started with a simple Form","nextSlug":["lab2","multistep-form-start"],"subTitle":"Setup Dev Environment","kind":"tutorials"}},"__N_SSG":true}