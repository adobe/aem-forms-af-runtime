<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" type="image/x-icon" href="/aem-forms-af-runtime/blog/favicon/adobe_favicon_hidpi.ico"/><meta name="description" content="Generate Beautiful Experiences with AEM Adaptive Form"/><title>Headless Adaptive Form : Creating a Multi Language Multistep Form</title><meta name="next-head-count" content="5"/><link rel="preload" href="/aem-forms-af-runtime/blog/_next/static/css/e107c1c301cf6b25.css" as="style"/><link rel="stylesheet" href="/aem-forms-af-runtime/blog/_next/static/css/e107c1c301cf6b25.css" data-n-g=""/><link rel="preload" href="/aem-forms-af-runtime/blog/_next/static/css/fac5716f93ead75b.css" as="style"/><link rel="stylesheet" href="/aem-forms-af-runtime/blog/_next/static/css/fac5716f93ead75b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/aem-forms-af-runtime/blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/aem-forms-af-runtime/blog/_next/static/chunks/webpack-5d432b29c04bcc91.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/chunks/framework-0ba0ddd33199226d.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/chunks/main-3467fefcfafd4c2f.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/chunks/pages/_app-ef11c2db3cdbd1a6.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/chunks/440-9ae92dc29296bd58.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/chunks/pages/%5Bkind%5D/%5B...slug%5D-10b817fc30ec6057.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/fHO6H8AlxvFs9w_XzpEiU/_buildManifest.js" defer=""></script><script src="/aem-forms-af-runtime/blog/_next/static/fHO6H8AlxvFs9w_XzpEiU/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class="container mx-auto px-5 pt-20"><article class="mb-32 relative"><h1 class="post-title">Headless Adaptive Form : Creating a Multi Language Multistep Form</h1><h2 class="text-xl md:text-3xl lg:text-3xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center">Setup Dev Environment</h2><div class="link-toolbar clearfix max-w-2xl mx-auto mt-10"><div class="link-next"><a href="/aem-forms-af-runtime/blog/tutorials/lab2/multistep-form-start"><span>Get Started with a simple Form</span><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowForwardIosIcon"><path d="M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"></path></svg></a></div></div><aside class="toc"><h2 class="text-lg mb-2">What&#x27;s on the page ?</h2><ul class="table-of-contents"><li class="toc-entry toc-entry-level-1"><a href="#pre-requisites">Pre-requisites</a></li><li class="toc-entry toc-entry-level-2"><a href="#update-forms-headless-sdk">Update Forms Headless SDK</a></li><li class="toc-entry toc-entry-level-2"><a href="#update-visual-studio-code-extension">Update Visual Studio Code Extension</a></li><li class="toc-entry toc-entry-level-2"><a href="#enabling-local-development-server">Enabling Local Development Server</a></li><li class="toc-entry toc-entry-level-3"><a href="#update-dependences-for-the-frontend-project">Update dependences for the frontend project</a></li><li class="toc-entry toc-entry-level-3"><a href="#update-the-frontend-code">Update the frontend code</a></li></ul></aside><div class="max-w-2xl mx-auto markdown-styles_markdown__h_8de"><h1 id="pre-requisites">Pre-requisites</h1>
<p>For this session, please setup development environment as mentioned in the <a href="https://github.com/adobe/aem-forms-af-runtime/wiki/Lab-1---Beta#1-set-up-development-environment">last session</a>. It is expected that you have completed lab 1 before this lab session.</p>
<p>More specifically, you should have your local developement setup ready and able to compelete <a href="https://github.com/adobe/aem-forms-af-runtime/wiki/Lab-1---Beta#3-form-rendering-during-local-development">step 3</a> of the previous lab</p>
<p>Additionally, one would have to install the following artifacts to use the new features like localization, forms web sdk improvements etc</p>
<h2 id="update-forms-headless-sdk">Update Forms Headless SDK</h2>
<p>Navigate to the <code class="inline-code">ui.frontend.forms.af</code> module inside the project created during last lab session and update the forms web sdk to the latest version (ie) <code class="inline-code">0.22.4</code>. An example can be seen <a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/package.json#L38-L40">here</a> and re-build the project after updating the dependencies.</p>
<h2 id="update-visual-studio-code-extension">Update Visual Studio Code Extension</h2>
<p>Install the latest <a href="https://experienceleague.adobe.com/docs/experience-manager-headless-adaptive-forms/assets/adaptive-form-builder-0.12.0.vsix?lang=en">visual code extension</a> which is <strong>required</strong> to localise adaptive form definition. To use the new version, uninstall the previous version and install the latest one. More details can be found <a href="https://experienceleague.adobe.com/docs/experience-manager-headless-adaptive-forms/using/visual-studio-code-extension-for-headless-adaptive-forms.html">here</a></p>
<blockquote>
<p>Note that Visual Studio Code Extension is mandatory for this lab for helping in translation of the form in multiple languages</p>
</blockquote>
<h2 id="enabling-local-development-server">Enabling Local Development Server</h2>
<p>To fetch the form model definition from local development server without using AEM, we would need to update the environment variables and web pack configuration.</p>
<blockquote>
<p>Note that this is only for development process, the final JSON needs to be present in the AEM for Form Functionality like submit, workflow to work</p>
</blockquote>
<h3 id="update-dependences-for-the-frontend-project">Update dependences for the frontend project</h3>
<p>Navigate to the <code class="inline-code">ui.frontend.react.forms.af</code> module in the archetype project created in lab 1 and run the commands mentioned below</p>
<pre><div class="code"><style data-emotion="css 1wf493t">.css-1wf493t{text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-1wf493t:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-1wf493t:hover{background-color:transparent;}}.css-1wf493t.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}</style><style data-emotion="css 1yxmbwk">.css-1yxmbwk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}.css-1yxmbwk::-moz-focus-inner{border-style:none;}.css-1yxmbwk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-1yxmbwk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-1yxmbwk:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-1yxmbwk:hover{background-color:transparent;}}.css-1yxmbwk.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}</style><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium copy-icon css-1yxmbwk" tabindex="0" type="button" aria-label="copy"><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button><div style="color:white;background:hsl(30, 20%, 25%);text-shadow:0 -.1em .2em black;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border:.3em solid hsl(30, 20%, 40%);border-radius:.5em;box-shadow:1px 1px .5em black inset"><code class="language-shellSession" style="color:white;background:none;text-shadow:0 -.1em .2em black;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>npm install --save-dev copy-webpack-plugin \
</span>--save react-router-dom react-router</code></div></div></pre>
<p>The command installs the web pack plugin and react router related dependencies (for localisation)</p>
<h3 id="update-the-frontend-code">Update the frontend code</h3>
<p>To enable faster development/preview of the Form, we have made changes to the archetype project which will be available in the next release. Until then please copy paste the changes manually as mentioned below</p>
<p>In the <code class="inline-code">ui.frontend.react.forms.af</code> module of the archetype project, update the files by copying the contents from the location mentioned below</p>
<ul>
<li><a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/webpack.common.js">webpack.common.js</a>,</li>
<li><a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/webpack.dev.js">webpack.dev.js</a>,</li>
<li><a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/.env">.env</a>,</li>
<li><a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/.env.development">.env.development</a></li>
</ul>
<p>Update the following file in the <code class="inline-code">src</code> directory of the <code class="inline-code">ui.frontend.react.forms.af</code> module</p>
<ul>
<li><a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/Form.tsx">Form.tsx</a></li>
<li><a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/index.tsx">index.tsx</a></li>
</ul>
<p>Create a new file in the <code class="inline-code">src</code> directory <code class="inline-code">FormWithLanguageRoute.tsx</code> and copy the contents from <a href="https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/FormWithLanguageRoute.tsx">FormWithLanguageRoute.tsx </a> in that file.</p></div><div class="link-toolbar clearfix max-w-2xl mx-auto mt-10"><div class="link-next"><a href="/aem-forms-af-runtime/blog/tutorials/lab2/multistep-form-start"><span>Get Started with a simple Form</span><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowForwardIosIcon"><path d="M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"></path></svg></a></div></div></article></div></main></div><footer class="bg-neutral-50 border-t border-neutral-200"><div class="container mx-auto px-5 "><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-[2.5rem] font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">AEM Adaptive Form</h3></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Headless Adaptive Form : Creating a Multi Language Multistep Form","date":"2020-03-16T05:35:07.322Z","slug":["lab2","dev-setup"],"content":"\n# Pre-requisites\n\nFor this session, please setup development environment as mentioned in the [last session](https://github.com/adobe/aem-forms-af-runtime/wiki/Lab-1---Beta#1-set-up-development-environment). It is expected that you have completed lab 1 before this lab session. \n\nMore specifically, you should have your local developement setup ready and able to compelete [step 3](https://github.com/adobe/aem-forms-af-runtime/wiki/Lab-1---Beta#3-form-rendering-during-local-development) of the previous lab\n\nAdditionally, one would have to install the following artifacts to use the new features like localization, forms web sdk improvements etc\n\n## Update Forms Headless SDK\n\nNavigate to the `ui.frontend.forms.af` module inside the project created during last lab session and update the forms web sdk to the latest version (ie) `0.22.4`. An example can be seen [here](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/package.json#L38-L40) and re-build the project after updating the dependencies.\n\n## Update Visual Studio Code Extension\n\nInstall the latest [visual code extension](https://experienceleague.adobe.com/docs/experience-manager-headless-adaptive-forms/assets/adaptive-form-builder-0.12.0.vsix?lang=en) which is **required** to localise adaptive form definition. To use the new version, uninstall the previous version and install the latest one. More details can be found [here](https://experienceleague.adobe.com/docs/experience-manager-headless-adaptive-forms/using/visual-studio-code-extension-for-headless-adaptive-forms.html)\n\n\u003e Note that Visual Studio Code Extension is mandatory for this lab for helping in translation of the form in multiple languages\n\n\n## Enabling Local Development Server\n\nTo fetch the form model definition from local development server without using AEM, we would need to update the environment variables and web pack configuration.  \n\n\u003e Note that this is only for development process, the final JSON needs to be present in the AEM for Form Functionality like submit, workflow to work\n\n### Update dependences for the frontend project\n\nNavigate to the `ui.frontend.react.forms.af` module in the archetype project created in lab 1 and run the commands mentioned below\n\n```shellSession\nnpm install --save-dev copy-webpack-plugin \\\n--save react-router-dom react-router\n```\n\nThe command installs the web pack plugin and react router related dependencies (for localisation)\n\n### Update the frontend code \n\nTo enable faster development/preview of the Form, we have made changes to the archetype project which will be available in the next release. Until then please copy paste the changes manually as mentioned below\n\nIn the `ui.frontend.react.forms.af` module of the archetype project, update the files by copying the contents from the location mentioned below\n\n* [webpack.common.js](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/webpack.common.js),\n* [webpack.dev.js](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/webpack.dev.js), \n* [.env](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/.env), \n* [.env.development](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/.env.development) \n\nUpdate the following file in the `src` directory of the `ui.frontend.react.forms.af` module \n* [Form.tsx](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/Form.tsx) \n* [index.tsx](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/index.tsx) \n\nCreate a new file in the `src` directory `FormWithLanguageRoute.tsx` and copy the contents from [FormWithLanguageRoute.tsx ](https://github.com/adobe/aem-forms-af-runtime/blob/lab2/ui.frontend.react.forms.af/src/FormWithLanguageRoute.tsx) in that file.\n\n\n","toc":[{"level":1,"text":"Pre-requisites","id":"pre-requisites"},{"level":2,"text":"Update Forms Headless SDK","id":"update-forms-headless-sdk"},{"level":2,"text":"Update Visual Studio Code Extension","id":"update-visual-studio-code-extension"},{"level":2,"text":"Enabling Local Development Server","id":"enabling-local-development-server"},{"level":3,"text":"Update dependences for the frontend project","id":"update-dependences-for-the-frontend-project"},{"level":3,"text":"Update the frontend code","id":"update-the-frontend-code"}],"nextTitle":"Get Started with a simple Form","nextSlug":["lab2","multistep-form-start"],"subTitle":"Setup Dev Environment","kind":"tutorials"}},"__N_SSG":true},"page":"/[kind]/[...slug]","query":{"kind":"tutorials","slug":["lab2","dev-setup"]},"buildId":"fHO6H8AlxvFs9w_XzpEiU","assetPrefix":"/aem-forms-af-runtime/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>